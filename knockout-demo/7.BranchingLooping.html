<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
     <script src="Scripts/knockout-2.1.0.js"></script>
    <script src="Scripts/jquery-1.8.2.min.js"></script>
</head>
<body>
    <table>
        <thead>
            <th>Product</th>
            <th>Price</th>
        </thead>
        <tbody data-bind="foreach: shoppingCart" border="1">
            <tr>
                <td data-bind="text: name"></td>
                <td data-bind="text: price"></td>
                <td><button data-bind="click: $root.removeProduct">Remove</button></td>                
            </tr>
        </tbody>
    </table>
    <button data-bind="click: addProduct">Add more</button>
    
<script type="text/javascript">
        function Product(name, price) {
            this.name = ko.observable(name);
            this.price = ko.observable(price);
        }

        function ViewModel() {
            var self = this;

            this.shoppingCart = ko.observableArray([
                    new Product("Coffee", 1),
                    new Product("Cookies", 1),
                    new Product("Muffin", 2)
            ]);

            this.addProduct = function() {
                this.shoppingCart.push(new Product("More coffee", 1));
            }

            //this.removeProduct = function (product) {
            //    self.shoppingCart.remove(product);
            //}


            //this.removeProduct = function (product) {
            //    self.shoppingCart.remove(product);
            //}>

            this.removeProduct = function (product) {
                self.shoppingCart.destroy(product); //product._destroy
                alert(self.shoppingCart().length);
                alert(product._destroy);
            }

        }

        ko.applyBindings(new ViewModel());


    </script>

</body>
</html>
